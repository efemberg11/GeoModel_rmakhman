From ee9db39e73abc903bae4246bbc26e2bf77e6100a Mon Sep 17 00:00:00 2001
From: Johannes Josef Junggeburth <johannes.josef.junggeburth@cern.ch>
Date: Wed, 1 May 2024 08:01:52 +0200
Subject: [PATCH] Reshuffle includes to have GeoModel first

Add debug mesage
---
 .../GeoModel/GeoModelUtilities/CMakeLists.txt   | 17 ++++++++---------
 .../GeoModel/GeoSpecialShapes/CMakeLists.txt    |  2 +-
 .../ReadoutGeometryBase/CMakeLists.txt          | 10 ++++------
 .../AFP/AFP_GeoModel/CMakeLists.txt             |  2 +-
 .../HGTD_GeoModelXml/CMakeLists.txt             |  2 +-
 .../HGTD_ReadoutGeometry/CMakeLists.txt         |  2 +-
 .../HGTD_G4/HGTD_G4_SD/CMakeLists.txt           |  3 ++-
 .../BCMPrimeGeoModelXml/CMakeLists.txt          |  2 +-
 .../InDetGeoModelUtils/CMakeLists.txt           |  2 +-
 .../InDetDetDescr/PLRGeoModelXml/CMakeLists.txt |  2 +-
 .../PixelGeoModelXml/CMakeLists.txt             |  2 +-
 .../ServiceExtensionGeoModelXml/CMakeLists.txt  |  2 +-
 .../StripGeoModelXml/CMakeLists.txt             |  2 +-
 InnerDetector/InDetG4/PixelG4_SD/CMakeLists.txt |  2 +-
 InnerDetector/InDetG4/SCT_G4_SD/CMakeLists.txt  |  2 +-
 .../LArG4/LArG4FastSimulation/CMakeLists.txt    |  2 +-
 .../LArGeoH6Cryostats/CMakeLists.txt            |  5 ++---
 Simulation/G4Utilities/Geo2G4/CMakeLists.txt    |  2 +-
 .../G4Utilities/GeoMaterial2G4/CMakeLists.txt   |  2 +-
 .../CombinedScintillator/CMakeLists.txt         |  2 +-
 .../TileAncillary/DeadMaterial/CMakeLists.txt   |  2 +-
 .../TileAncillary/LarCrate/CMakeLists.txt       |  2 +-
 .../TileAncillary/MuonWall/CMakeLists.txt       |  2 +-
 .../PhantomCalorimeter/CMakeLists.txt           |  2 +-
 Tracking/Acts/ActsGeometry/CMakeLists.txt       |  2 +-
 graphics/GeometryJiveXML/CMakeLists.txt         |  2 +-
 graphics/VP1/VP1Base/CMakeLists.txt             |  2 +-
 27 files changed, 39 insertions(+), 42 deletions(-)

diff --git a/DetectorDescription/GeoModel/GeoModelUtilities/CMakeLists.txt b/DetectorDescription/GeoModel/GeoModelUtilities/CMakeLists.txt
index c0207a69420..0eeeb55dcb5 100644
--- a/DetectorDescription/GeoModel/GeoModelUtilities/CMakeLists.txt
+++ b/DetectorDescription/GeoModel/GeoModelUtilities/CMakeLists.txt
@@ -4,7 +4,6 @@
 atlas_subdir( GeoModelUtilities )
 
 # External dependencies.
-find_package( Eigen ) # Needed by GeoModelKernel
 find_package( GeoModel COMPONENTS GeoGenericFunctions GeoModelKernel GeoModelHelpers )
 find_package( ROOT COMPONENTS Core )
 # The list of sources, and list of linked libraries depends on what project is
@@ -26,23 +25,23 @@ endif()
 atlas_add_library( GeoModelUtilities
    GeoModelUtilities/*.h ${sources}
    PUBLIC_HEADERS GeoModelUtilities
-   INCLUDE_DIRS ${EIGEN_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
-   LINK_LIBRARIES GeoPrimitives ${EIGEN_LIBRARIES} ${GEOMODEL_LIBRARIES} ${libraries} )
+   INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS}
+   LINK_LIBRARIES ${GEOMODEL_LIBRARIES} ${libraries} GeoPrimitives  )
 
 atlas_add_test( GeoGetIds_test
                  SOURCES test/GeoGetIds_test.cxx
-                 INCLUDE_DIRS ${EIGEN_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
-                 LINK_LIBRARIES ${EIGEN_LIBRARIES} ${GEOMODEL_LIBRARIES} GeoModelUtilities )
+                 INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS}
+                 LINK_LIBRARIES  ${GEOMODEL_LIBRARIES} GeoModelUtilities )
 
 atlas_add_test( GeoVisitVolumes_test
                 SOURCES test/GeoVisitVolumes_test.cxx
-                INCLUDE_DIRS ${EIGEN_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
-                LINK_LIBRARIES ${EIGEN_LIBRARIES} ${GEOMODEL_LIBRARIES} GeoModelUtilities )
+                INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS}
+                LINK_LIBRARIES ${GEOMODEL_LIBRARIES} GeoModelUtilities )
 
 atlas_add_test( GeoAlignStore_test
                 SOURCES test/testAlignStore.cxx
-                INCLUDE_DIRS ${EIGEN_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS} ${ROOT_INCLUDE_DIRS}
-                LINK_LIBRARIES ${EIGEN_LIBRARIES} ${GEOMODEL_LIBRARIES} ${ROOT_LIBRARIES} GeoModelUtilities
+                INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${ROOT_INCLUDE_DIRS}
+                LINK_LIBRARIES ${GEOMODEL_LIBRARIES} ${ROOT_LIBRARIES} GeoModelUtilities
                 PROPERTIES TIMEOUT 600
                 POST_EXEC_SCRIPT nopost.sh)
 # Code in this file makes heavy use of eigen and runs orders of magnitude
diff --git a/DetectorDescription/GeoModel/GeoSpecialShapes/CMakeLists.txt b/DetectorDescription/GeoModel/GeoSpecialShapes/CMakeLists.txt
index 91d77688c3a..26487c7e6ac 100644
--- a/DetectorDescription/GeoModel/GeoSpecialShapes/CMakeLists.txt
+++ b/DetectorDescription/GeoModel/GeoSpecialShapes/CMakeLists.txt
@@ -21,7 +21,7 @@ endif()
 atlas_add_library( GeoSpecialShapes
    GeoSpecialShapes/*.h src/*.cxx src/LArWheelCalculator_Impl/*.cxx
    PUBLIC_HEADERS GeoSpecialShapes
-   INCLUDE_DIRS ${CLHEP_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+   INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS}
    PRIVATE_INCLUDE_DIRS ${ROOT_INCLUDE_DIRS} ${GSL_INCLUDE_DIRS}
    DEFINITIONS ${CLHEP_DEFINITIONS}
    LINK_LIBRARIES ${CLHEP_LIBRARIES} ${GEOMODEL_LIBRARIES} ${extra_public_libs}
diff --git a/DetectorDescription/ReadoutGeometryBase/CMakeLists.txt b/DetectorDescription/ReadoutGeometryBase/CMakeLists.txt
index 3cf36a780ef..f5859272d71 100644
--- a/DetectorDescription/ReadoutGeometryBase/CMakeLists.txt
+++ b/DetectorDescription/ReadoutGeometryBase/CMakeLists.txt
@@ -5,18 +5,16 @@ atlas_subdir( ReadoutGeometryBase )
 
 # External dependencies:
 find_package( CLHEP )
-find_package( Eigen ) # Needed by GeoModelKernel
 find_package( GeoModel COMPONENTS GeoModelKernel )
 
 # Component(s) in the package:
 atlas_add_library( ReadoutGeometryBase
    ReadoutGeometryBase/*.h ReadoutGeometryBase/*.icc src/*.cxx
    PUBLIC_HEADERS ReadoutGeometryBase
-   INCLUDE_DIRS ${CLHEP_INCLUDE_DIRS} ${EIGEN_INCLUDE_DIRS}
-                ${GEOMODEL_INCLUDE_DIRS}
+   INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS}
+                
    DEFINITIONS ${CLHEP_DEFINITIONS}
-   LINK_LIBRARIES ${CLHEP_LIBRARIES} ${EIGEN_LIBRARIES} ${GEOMODEL_LIBRARIES}
+   LINK_LIBRARIES ${GEOMODEL_LIBRARIES} ${CLHEP_LIBRARIES}  
                   CxxUtils AthenaKernel AtlasDetDescr GeoPrimitives Identifier
-                  GaudiKernel InDetCondTools TrkDetElementBase
-                  TrkEventPrimitives AthenaBaseComps
+                  GaudiKernel InDetCondTools TrkDetElementBase AthenaBaseComps
    PRIVATE_LINK_LIBRARIES GeoModelUtilities TrkSurfaces )
diff --git a/ForwardDetectors/AFP/AFP_GeoModel/CMakeLists.txt b/ForwardDetectors/AFP/AFP_GeoModel/CMakeLists.txt
index d69c92a3e11..a4660c7abe6 100644
--- a/ForwardDetectors/AFP/AFP_GeoModel/CMakeLists.txt
+++ b/ForwardDetectors/AFP/AFP_GeoModel/CMakeLists.txt
@@ -11,6 +11,6 @@ find_package( GeoModel COMPONENTS GeoModelKernel )
 atlas_add_component( AFP_GeoModel
 		     src/*.cxx
                      src/components/*.cxx
-		     INCLUDE_DIRS ${CLHEP_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+		     INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS}
 		     LINK_LIBRARIES ${CLHEP_LIBRARIES} ${GEOMODEL_LIBRARIES} AFP_Geometry AthenaKernel GeoModelUtilities AthenaPoolUtilities GaudiKernel GeoModelInterfaces GeoPrimitives StoreGateLib )
 
diff --git a/HighGranularityTimingDetector/HGTD_DetDescr/HGTD_GeoModelXml/CMakeLists.txt b/HighGranularityTimingDetector/HGTD_DetDescr/HGTD_GeoModelXml/CMakeLists.txt
index de95fea19f2..25eccf0043f 100644
--- a/HighGranularityTimingDetector/HGTD_DetDescr/HGTD_GeoModelXml/CMakeLists.txt
+++ b/HighGranularityTimingDetector/HGTD_DetDescr/HGTD_GeoModelXml/CMakeLists.txt
@@ -11,7 +11,7 @@ find_package( GeoModel COMPONENTS GeoModelKernel GeoModelXml ExpressionEvaluator
 atlas_add_component( HGTD_GeoModelXml
                      src/*.cxx
                      src/components/*.cxx
-                     PRIVATE_INCLUDE_DIRS ${XERCESC_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                     PRIVATE_INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS}
                      PRIVATE_LINK_LIBRARIES ${XERCESC_LIBRARIES} ${GEOMODEL_LIBRARIES}
                      GaudiKernel DetDescrConditions HGTD_ReadoutGeometry InDetGeoModelUtils InDetSimEvent )
 
diff --git a/HighGranularityTimingDetector/HGTD_DetDescr/HGTD_ReadoutGeometry/CMakeLists.txt b/HighGranularityTimingDetector/HGTD_DetDescr/HGTD_ReadoutGeometry/CMakeLists.txt
index a41dad238f1..80bf8b685a6 100644
--- a/HighGranularityTimingDetector/HGTD_DetDescr/HGTD_ReadoutGeometry/CMakeLists.txt
+++ b/HighGranularityTimingDetector/HGTD_DetDescr/HGTD_ReadoutGeometry/CMakeLists.txt
@@ -11,7 +11,7 @@ find_package( GeoModel COMPONENTS GeoPrimitives GeoModelKernel )
 atlas_add_library( HGTD_ReadoutGeometry
    HGTD_ReadoutGeometry/*.h src/*.cxx
    PUBLIC_HEADERS HGTD_ReadoutGeometry
-   INCLUDE_DIRS ${CLHEP_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+   INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS}
    DEFINITIONS ${CLHEP_DEFINITIONS}
    LINK_LIBRARIES ${CLHEP_LIBRARIES} ${GEOMODEL_LIBRARIES} Identifier
    ReadoutGeometryBase TrkEventPrimitives HGTD_Identifier AthenaBaseComps
diff --git a/HighGranularityTimingDetector/HGTD_G4/HGTD_G4_SD/CMakeLists.txt b/HighGranularityTimingDetector/HGTD_G4/HGTD_G4_SD/CMakeLists.txt
index 75c3426473f..e4e434fa019 100644
--- a/HighGranularityTimingDetector/HGTD_G4/HGTD_G4_SD/CMakeLists.txt
+++ b/HighGranularityTimingDetector/HGTD_G4/HGTD_G4_SD/CMakeLists.txt
@@ -8,12 +8,13 @@ find_package( CLHEP )
 find_package( Geant4 )
 find_package( GeoModel COMPONENTS GeoModelKernel GeoModelRead GeoModelDBManager )
 
+message (INFO "Include dirs are ${GEOMODEL_INCLUDE_DIRS} ${GEOMODEL_LIBRARIES}")
 # Component(s) in the package:
 atlas_add_library( HGTD_G4_SD
                    src/*.h src/*.cxx src/components/*.cxx
                    OBJECT
                    NO_PUBLIC_HEADERS
-                   INCLUDE_DIRS ${CLHEP_INCLUDE_DIRS} ${GEANT4_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                   INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${GEANT4_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS} 
                    LINK_LIBRARIES ${CLHEP_LIBRARIES} ${GEANT4_LIBRARIES} ${GEOMODEL_LIBRARIES} StoreGateLib
                    HGTD_Identifier InDetSimEvent G4AtlasToolsLib MCTruth GeoModelInterfaces GeoPrimitives )
 set_target_properties( HGTD_G4_SD PROPERTIES INTERPROCEDURAL_OPTIMIZATION ${ATLAS_GEANT4_USE_LTO} )
diff --git a/InnerDetector/InDetDetDescr/BCMPrimeGeoModelXml/CMakeLists.txt b/InnerDetector/InDetDetDescr/BCMPrimeGeoModelXml/CMakeLists.txt
index 41804d56745..badee4918f4 100644
--- a/InnerDetector/InDetDetDescr/BCMPrimeGeoModelXml/CMakeLists.txt
+++ b/InnerDetector/InDetDetDescr/BCMPrimeGeoModelXml/CMakeLists.txt
@@ -11,7 +11,7 @@ find_package( GeoModel COMPONENTS GeoModelKernel GeoModelXml ExpressionEvaluator
 atlas_add_component( BCMPrimeGeoModelXml
                      src/*.cxx
                      src/components/*.cxx
-                     PRIVATE_INCLUDE_DIRS ${XERCESC_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                     PRIVATE_INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS}
                      PRIVATE_LINK_LIBRARIES ${XERCESC_LIBRARIES} ${GEOMODEL_LIBRARIES} CxxUtils
                      GaudiKernel DetDescrConditions InDetGeoModelUtils InDetSimEvent BCMPrimeReadoutGeometry )
 
diff --git a/InnerDetector/InDetDetDescr/InDetGeoModelUtils/CMakeLists.txt b/InnerDetector/InDetDetDescr/InDetGeoModelUtils/CMakeLists.txt
index 6baf3845eea..ab60dc23a2d 100644
--- a/InnerDetector/InDetDetDescr/InDetGeoModelUtils/CMakeLists.txt
+++ b/InnerDetector/InDetDetDescr/InDetGeoModelUtils/CMakeLists.txt
@@ -11,7 +11,7 @@ find_package( XercesC  )
 atlas_add_library( InDetGeoModelUtils
                    src/*.cxx
                    PUBLIC_HEADERS InDetGeoModelUtils
-                   INCLUDE_DIRS ${XERCESC_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                   INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS}
                    LINK_LIBRARIES ${GEOMODEL_LIBRARIES} ${XERCESC_LIBRARIES}
                    AthenaKernel AthenaBaseComps CxxUtils GaudiKernel
                    GeoModelInterfaces GeoModelUtilities GeoPrimitives RDBAccessSvcLib
diff --git a/InnerDetector/InDetDetDescr/PLRGeoModelXml/CMakeLists.txt b/InnerDetector/InDetDetDescr/PLRGeoModelXml/CMakeLists.txt
index cbaf2526464..d432b3f1c55 100644
--- a/InnerDetector/InDetDetDescr/PLRGeoModelXml/CMakeLists.txt
+++ b/InnerDetector/InDetDetDescr/PLRGeoModelXml/CMakeLists.txt
@@ -11,7 +11,7 @@ find_package( GeoModel COMPONENTS GeoModelKernel GeoModelXml ExpressionEvaluator
 atlas_add_component( PLRGeoModelXml
                      src/*.cxx
                      src/components/*.cxx
-                     PRIVATE_INCLUDE_DIRS ${XERCESC_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                     PRIVATE_INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS}
                      PRIVATE_LINK_LIBRARIES ${XERCESC_LIBRARIES} ${GEOMODEL_LIBRARIES}
                      GaudiKernel DetDescrConditions InDetGeoModelUtils InDetSimEvent PixelGeoModelXmlLib PixelReadoutGeometryLib )
 
diff --git a/InnerDetector/InDetDetDescr/PixelGeoModelXml/CMakeLists.txt b/InnerDetector/InDetDetDescr/PixelGeoModelXml/CMakeLists.txt
index 6d46ceea828..c0a17e98543 100644
--- a/InnerDetector/InDetDetDescr/PixelGeoModelXml/CMakeLists.txt
+++ b/InnerDetector/InDetDetDescr/PixelGeoModelXml/CMakeLists.txt
@@ -11,7 +11,7 @@ find_package( GeoModel COMPONENTS GeoModelKernel GeoModelXml ExpressionEvaluator
 atlas_add_library( PixelGeoModelXmlLib
                    src/*.cxx
                    PUBLIC_HEADERS PixelGeoModelXml
-                   PRIVATE_INCLUDE_DIRS ${XERCESC_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                   PRIVATE_INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS}
                    LINK_LIBRARIES InDetGeoModelUtils PixelReadoutGeometryLib GeometryDBSvcLib
                    PRIVATE_LINK_LIBRARIES ${XERCESC_LIBRARIES} ${GEOMODEL_LIBRARIES}
                    GaudiKernel DetDescrConditions InDetSimEvent )
diff --git a/InnerDetector/InDetDetDescr/ServiceExtensionGeoModelXml/CMakeLists.txt b/InnerDetector/InDetDetDescr/ServiceExtensionGeoModelXml/CMakeLists.txt
index 4afc7c816fc..2cc077f882f 100644
--- a/InnerDetector/InDetDetDescr/ServiceExtensionGeoModelXml/CMakeLists.txt
+++ b/InnerDetector/InDetDetDescr/ServiceExtensionGeoModelXml/CMakeLists.txt
@@ -10,7 +10,7 @@ find_package( GeoModel COMPONENTS GeoModelKernel GeoModelXml ExpressionEvaluator
 atlas_add_component( ServiceExtensionGeoModelXml
                      src/*.cxx
                      src/components/*.cxx
-                     PRIVATE_INCLUDE_DIRS ${XERCESC_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                     PRIVATE_INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS}
                      PRIVATE_LINK_LIBRARIES ${XERCESC_LIBRARIES} ${GEOMODEL_LIBRARIES}
                      GaudiKernel InDetGeoModelUtils )
 
diff --git a/InnerDetector/InDetDetDescr/StripGeoModelXml/CMakeLists.txt b/InnerDetector/InDetDetDescr/StripGeoModelXml/CMakeLists.txt
index 4f3dcab75a2..d96e9ef0c4b 100644
--- a/InnerDetector/InDetDetDescr/StripGeoModelXml/CMakeLists.txt
+++ b/InnerDetector/InDetDetDescr/StripGeoModelXml/CMakeLists.txt
@@ -10,7 +10,7 @@ find_package( GeoModel COMPONENTS GeoModelKernel GeoModelXml ExpressionEvaluator
 atlas_add_component( StripGeoModelXml
                      src/*.cxx
                      src/components/*.cxx
-                     PRIVATE_INCLUDE_DIRS ${XERCESC_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                     PRIVATE_INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS}
                      PRIVATE_LINK_LIBRARIES ${XERCESC_LIBRARIES} ${GEOMODEL_LIBRARIES} CxxUtils
                      GaudiKernel DetDescrConditions InDetGeoModelUtils InDetSimEvent SCT_ReadoutGeometry GeometryDBSvcLib )
 
diff --git a/InnerDetector/InDetG4/PixelG4_SD/CMakeLists.txt b/InnerDetector/InDetG4/PixelG4_SD/CMakeLists.txt
index af77794fdab..e887345439e 100644
--- a/InnerDetector/InDetG4/PixelG4_SD/CMakeLists.txt
+++ b/InnerDetector/InDetG4/PixelG4_SD/CMakeLists.txt
@@ -14,7 +14,7 @@ atlas_add_library( PixelG4_SDLib
                    src/*.cxx
                    OBJECT
                    NO_PUBLIC_HEADERS
-                   INCLUDE_DIRS ${GEANT4_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                   INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${GEANT4_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS}
                    LINK_LIBRARIES ${CLHEP_LIBRARIES} ${GEANT4_LIBRARIES} ${GTEST_LIBRARIES} ${GEOMODEL_LIBRARIES} G4AtlasToolsLib InDetSimEvent MCTruth StoreGateLib GeoModelInterfaces GeoPrimitives)
 set_target_properties( PixelG4_SDLib PROPERTIES INTERPROCEDURAL_OPTIMIZATION ${ATLAS_GEANT4_USE_LTO} )
 
diff --git a/InnerDetector/InDetG4/SCT_G4_SD/CMakeLists.txt b/InnerDetector/InDetG4/SCT_G4_SD/CMakeLists.txt
index e3834fd4d81..2eac87ad8d7 100644
--- a/InnerDetector/InDetG4/SCT_G4_SD/CMakeLists.txt
+++ b/InnerDetector/InDetG4/SCT_G4_SD/CMakeLists.txt
@@ -14,7 +14,7 @@ atlas_add_library( SCT_G4_SDLib
                    src/*.cxx
                    OBJECT
                    NO_PUBLIC_HEADERS
-                   INCLUDE_DIRS ${CLHEP_INCLUDE_DIRS} ${GEANT4_INCLUDE_DIRS} ${GTEST_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                   INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${GEANT4_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS}  ${GTEST_INCLUDE_DIRS}
                    LINK_LIBRARIES ${CLHEP_LIBRARIES} ${GEANT4_LIBRARIES} ${GTEST_LIBRARIES} ${GEOMODEL_LIBRARIES} G4AtlasToolsLib InDetSimEvent MCTruth StoreGateLib GeoModelInterfaces GeoPrimitives )
 set_target_properties( SCT_G4_SDLib PROPERTIES INTERPROCEDURAL_OPTIMIZATION ${ATLAS_GEANT4_USE_LTO} )
 
diff --git a/LArCalorimeter/LArG4/LArG4FastSimulation/CMakeLists.txt b/LArCalorimeter/LArG4/LArG4FastSimulation/CMakeLists.txt
index 11056af7c88..0b6e52e3ddd 100644
--- a/LArCalorimeter/LArG4/LArG4FastSimulation/CMakeLists.txt
+++ b/LArCalorimeter/LArG4/LArG4FastSimulation/CMakeLists.txt
@@ -14,7 +14,7 @@ atlas_add_library( LArG4FastSimulation
                    src/components/*.cxx
                    OBJECT
                    NO_PUBLIC_HEADERS
-                   PRIVATE_INCLUDE_DIRS ${GEANT4_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                   PRIVATE_INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${GEANT4_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS}
                    PRIVATE_LINK_LIBRARIES ${GEANT4_LIBRARIES} ${CLHEP_LIBRARIES} AtlasHepMCLib ${GEOMODEL_LIBRARIES} GaudiKernel StoreGateLib GeoSpecialShapes LArG4Code LArReadoutGeometry LArSimEvent G4AtlasToolsLib GeoPrimitives LArG4ShowerLibSvcLib RDBAccessSvcLib GeoModelInterfaces GeoModelUtilities)
 set_target_properties( LArG4FastSimulation PROPERTIES INTERPROCEDURAL_OPTIMIZATION ${ATLAS_GEANT4_USE_LTO} )
 
diff --git a/LArCalorimeter/LArGeoModel/LArGeoH6Cryostats/CMakeLists.txt b/LArCalorimeter/LArGeoModel/LArGeoH6Cryostats/CMakeLists.txt
index db16b4839cc..415f9c53238 100644
--- a/LArCalorimeter/LArGeoModel/LArGeoH6Cryostats/CMakeLists.txt
+++ b/LArCalorimeter/LArGeoModel/LArGeoH6Cryostats/CMakeLists.txt
@@ -4,14 +4,13 @@
 atlas_subdir( LArGeoH6Cryostats )
 
 # External dependencies:
-find_package( Eigen )
 find_package( GeoModel COMPONENTS GeoModelKernel GeoGenericFunctions )
 
 # Component(s) in the package:
 atlas_add_library( LArGeoH6Cryostats
                    src/*.cxx
                    PUBLIC_HEADERS LArGeoH6Cryostats
-                   PRIVATE_INCLUDE_DIRS ${EIGEN_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
-                   LINK_LIBRARIES ${EIGEN_LIBRARIES} ${GEOMODEL_LIBRARIES} StoreGateLib
+                   PRIVATE_INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS}
+                   LINK_LIBRARIES ${GEOMODEL_LIBRARIES} StoreGateLib GeoPrimitives
                    PRIVATE_LINK_LIBRARIES GaudiKernel GeoModelInterfaces RDBAccessSvcLib )
 
diff --git a/Simulation/G4Utilities/Geo2G4/CMakeLists.txt b/Simulation/G4Utilities/Geo2G4/CMakeLists.txt
index b3b21d94e97..1d778261270 100644
--- a/Simulation/G4Utilities/Geo2G4/CMakeLists.txt
+++ b/Simulation/G4Utilities/Geo2G4/CMakeLists.txt
@@ -15,7 +15,7 @@ atlas_add_library( Geo2G4Lib
                    src/*.cxx
                    OBJECT
                    NO_PUBLIC_HEADERS
-                   INCLUDE_DIRS ${GEANT4_INCLUDE_DIRS} ${ROOT_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                   INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${GEANT4_INCLUDE_DIRS} ${ROOT_INCLUDE_DIRS}
                    PRIVATE_INCLUDE_DIRS ${Boost_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS}
                    PRIVATE_DEFINITIONS ${CLHEP_DEFINITIONS}
                    LINK_LIBRARIES ${GEANT4_LIBRARIES} ${GEOMODEL_LIBRARIES} ${ROOT_LIBRARIES} AthenaBaseComps GaudiKernel G4AtlasInterfaces G4AtlasToolsLib GeoModelUtilities GeoPrimitives
diff --git a/Simulation/G4Utilities/GeoMaterial2G4/CMakeLists.txt b/Simulation/G4Utilities/GeoMaterial2G4/CMakeLists.txt
index 7ca779f2507..ed156a98236 100644
--- a/Simulation/G4Utilities/GeoMaterial2G4/CMakeLists.txt
+++ b/Simulation/G4Utilities/GeoMaterial2G4/CMakeLists.txt
@@ -12,7 +12,7 @@ atlas_add_library( GeoMaterial2G4
                    src/*.cxx
                    OBJECT
                    PUBLIC_HEADERS GeoMaterial2G4
-                   INCLUDE_DIRS ${GEANT4_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                   INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${GEANT4_INCLUDE_DIRS}
                    LINK_LIBRARIES ${GEANT4_LIBRARIES} ${GEOMODEL_LIBRARIES} AthenaBaseComps
                    PRIVATE_LINK_LIBRARIES CxxUtils GeoModelUtilities )
 set_target_properties( GeoMaterial2G4 PROPERTIES INTERPROCEDURAL_OPTIMIZATION ${ATLAS_GEANT4_USE_LTO} )
diff --git a/TileCalorimeter/TileG4/TileAncillary/CombinedScintillator/CMakeLists.txt b/TileCalorimeter/TileG4/TileAncillary/CombinedScintillator/CMakeLists.txt
index 35200501be8..2b29e3fb3a2 100644
--- a/TileCalorimeter/TileG4/TileAncillary/CombinedScintillator/CMakeLists.txt
+++ b/TileCalorimeter/TileG4/TileAncillary/CombinedScintillator/CMakeLists.txt
@@ -19,7 +19,7 @@ atlas_add_library( CombinedScintillator
                    src/components/*.cxx
                    OBJECT
                    NO_PUBLIC_HEADERS
-                   PRIVATE_INCLUDE_DIRS ${GEANT4_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                   PRIVATE_INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${GEANT4_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS} 
                    PRIVATE_LINK_LIBRARIES ${GEANT4_LIBRARIES} ${XERCESC_LIBRARIES} ${CLHEP_LIBRARIES} ${GEOMODEL_LIBRARIES} CaloIdentifier StoreGateLib GaudiKernel G4AtlasToolsLib GeoMaterial2G4 GeoModelInterfaces TileSimEvent )
 set_target_properties( CombinedScintillator PROPERTIES INTERPROCEDURAL_OPTIMIZATION ${ATLAS_GEANT4_USE_LTO} )
 
diff --git a/TileCalorimeter/TileG4/TileAncillary/DeadMaterial/CMakeLists.txt b/TileCalorimeter/TileG4/TileAncillary/DeadMaterial/CMakeLists.txt
index 8c0a71b66eb..d7532619444 100644
--- a/TileCalorimeter/TileG4/TileAncillary/DeadMaterial/CMakeLists.txt
+++ b/TileCalorimeter/TileG4/TileAncillary/DeadMaterial/CMakeLists.txt
@@ -19,7 +19,7 @@ atlas_add_library( DeadMaterial
                    src/components/*.cxx
                    OBJECT
                    NO_PUBLIC_HEADERS
-                   PRIVATE_INCLUDE_DIRS ${GEANT4_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                   PRIVATE_INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${GEANT4_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS} 
                    PRIVATE_LINK_LIBRARIES ${GEANT4_LIBRARIES} ${XERCESC_LIBRARIES} ${CLHEP_LIBRARIES} ${GEOMODEL_LIBRARIES} StoreGateLib GaudiKernel G4AtlasToolsLib GeoMaterial2G4 GeoModelInterfaces )
 set_target_properties( DeadMaterial PROPERTIES INTERPROCEDURAL_OPTIMIZATION ${ATLAS_GEANT4_USE_LTO} )
 
diff --git a/TileCalorimeter/TileG4/TileAncillary/LarCrate/CMakeLists.txt b/TileCalorimeter/TileG4/TileAncillary/LarCrate/CMakeLists.txt
index e670527a2d5..80449318f5b 100644
--- a/TileCalorimeter/TileG4/TileAncillary/LarCrate/CMakeLists.txt
+++ b/TileCalorimeter/TileG4/TileAncillary/LarCrate/CMakeLists.txt
@@ -19,7 +19,7 @@ atlas_add_library( LarCrate
                    src/components/*.cxx
                    OBJECT
                    NO_PUBLIC_HEADERS
-                   PRIVATE_INCLUDE_DIRS ${GEANT4_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                   PRIVATE_INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${GEANT4_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS} 
                    PRIVATE_LINK_LIBRARIES ${GEANT4_LIBRARIES} ${XERCESC_LIBRARIES} ${CLHEP_LIBRARIES} ${GEOMODEL_LIBRARIES} StoreGateLib GaudiKernel G4AtlasToolsLib GeoMaterial2G4 GeoModelInterfaces )
 set_target_properties( LarCrate PROPERTIES INTERPROCEDURAL_OPTIMIZATION ${ATLAS_GEANT4_USE_LTO} )
 
diff --git a/TileCalorimeter/TileG4/TileAncillary/MuonWall/CMakeLists.txt b/TileCalorimeter/TileG4/TileAncillary/MuonWall/CMakeLists.txt
index aa54c9bb927..195db78b95e 100644
--- a/TileCalorimeter/TileG4/TileAncillary/MuonWall/CMakeLists.txt
+++ b/TileCalorimeter/TileG4/TileAncillary/MuonWall/CMakeLists.txt
@@ -19,7 +19,7 @@ atlas_add_library( MuonWall
                    src/components/*.cxx
                    OBJECT
                    NO_PUBLIC_HEADERS
-                   PRIVATE_INCLUDE_DIRS ${GEANT4_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                   PRIVATE_INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${GEANT4_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS} 
                    PRIVATE_LINK_LIBRARIES ${GEANT4_LIBRARIES} ${XERCESC_LIBRARIES} ${CLHEP_LIBRARIES} ${GEOMODEL_LIBRARIES} CaloIdentifier StoreGateLib GaudiKernel G4AtlasToolsLib GeoModelInterfaces GeoMaterial2G4 TileSimEvent )
 set_target_properties( MuonWall PROPERTIES INTERPROCEDURAL_OPTIMIZATION ${ATLAS_GEANT4_USE_LTO} )
 
diff --git a/TileCalorimeter/TileG4/TileAncillary/PhantomCalorimeter/CMakeLists.txt b/TileCalorimeter/TileG4/TileAncillary/PhantomCalorimeter/CMakeLists.txt
index 4c6a4dbf265..8d52fe491b9 100644
--- a/TileCalorimeter/TileG4/TileAncillary/PhantomCalorimeter/CMakeLists.txt
+++ b/TileCalorimeter/TileG4/TileAncillary/PhantomCalorimeter/CMakeLists.txt
@@ -19,7 +19,7 @@ atlas_add_library( PhantomCalorimeter
                    src/components/*.cxx
                    OBJECT
                    NO_PUBLIC_HEADERS
-                   PRIVATE_INCLUDE_DIRS ${GEANT4_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                   PRIVATE_INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${GEANT4_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS} ${XERCESC_INCLUDE_DIRS} 
                    PRIVATE_LINK_LIBRARIES ${GEANT4_LIBRARIES} ${XERCESC_LIBRARIES} ${CLHEP_LIBRARIES} ${GEOMODEL_LIBRARIES} CaloIdentifier StoreGateLib GaudiKernel G4AtlasToolsLib GeoMaterial2G4 GeoModelInterfaces TileSimEvent )
 set_target_properties( PhantomCalorimeter PROPERTIES INTERPROCEDURAL_OPTIMIZATION ${ATLAS_GEANT4_USE_LTO} )
 
diff --git a/Tracking/Acts/ActsGeometry/CMakeLists.txt b/Tracking/Acts/ActsGeometry/CMakeLists.txt
index 0b8b3661e18..fd1f4f9eb5a 100644
--- a/Tracking/Acts/ActsGeometry/CMakeLists.txt
+++ b/Tracking/Acts/ActsGeometry/CMakeLists.txt
@@ -68,7 +68,7 @@ atlas_add_component( ActsGeometry
                      src/ActsPropStepRootWriterSvc.cxx
                      src/ActsCaloTrackingVolumeBuilder.cxx
                      src/components/*.cxx
-                     INCLUDE_DIRS ${Boost_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS} ${ROOT_INCLUDE_DIRS}
+                     INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS} ${ROOT_INCLUDE_DIRS} ${Boost_INCLUDE_DIRS}
                      LINK_LIBRARIES ${Boost_LIBRARIES} ${CLHEP_LIBRARIES} ${GEOMODEL_LIBRARIES} ${ROOT_LIBRARIES}
                      ActsGeometryInterfacesLib
                      ActsGeometryLib
diff --git a/graphics/GeometryJiveXML/CMakeLists.txt b/graphics/GeometryJiveXML/CMakeLists.txt
index 95d7e159bcc..48410c04df8 100644
--- a/graphics/GeometryJiveXML/CMakeLists.txt
+++ b/graphics/GeometryJiveXML/CMakeLists.txt
@@ -11,5 +11,5 @@ find_package( CLHEP )
 atlas_add_component( GeometryJiveXML
                      src/*.cxx
                      src/components/*.cxx
-                     INCLUDE_DIRS ${CLHEP_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+                     INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${CLHEP_INCLUDE_DIRS}
                      LINK_LIBRARIES ${CLHEP_LIBRARIES} ${GEOMODEL_LIBRARIES} AthenaBaseComps CaloDetDescrLib CaloDetDescrUtils GaudiKernel InDetIdentifier InDetReadoutGeometry JiveXMLLib LArReadoutGeometry MuonIdHelpersLib MuonReadoutGeometry PixelReadoutGeometryLib SCT_ReadoutGeometry StoreGateLib TRT_ReadoutGeometry TileDetDescr )
diff --git a/graphics/VP1/VP1Base/CMakeLists.txt b/graphics/VP1/VP1Base/CMakeLists.txt
index 0bda34efb86..987c26dca95 100644
--- a/graphics/VP1/VP1Base/CMakeLists.txt
+++ b/graphics/VP1/VP1Base/CMakeLists.txt
@@ -33,7 +33,7 @@ set( CMAKE_AUTORCC TRUE )
 # declaration of PRIVATE_INCLUDE_DIRS.
 atlas_add_library( VP1Base VP1Base/*.h src/*.cxx src/*.qrc
    PUBLIC_HEADERS VP1Base
-   INCLUDE_DIRS ${QT5_INCLUDE_DIRS} ${SOQT_INCLUDE_DIRS} ${COIN3D_INCLUDE_DIRS} ${GEOMODEL_INCLUDE_DIRS}
+   INCLUDE_DIRS ${GEOMODEL_INCLUDE_DIRS} ${QT5_INCLUDE_DIRS} ${SOQT_INCLUDE_DIRS} ${COIN3D_INCLUDE_DIRS}
    PRIVATE_INCLUDE_DIRS ${CMAKE_CURRENT_BINARY_DIR}
    LINK_LIBRARIES ${QT5_LIBRARIES} ${SOQT_LIBRARIES} ${COIN3D_LIBRARIES} ${GEOMODEL_LIBRARIES} GeoPrimitives xAODBase
    PRIVATE_LINK_LIBRARIES VP1HEPVis )
-- 
2.34.1

